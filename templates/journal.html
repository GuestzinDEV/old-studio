{% extends "base.html" %}
{% block content %}

<div class="journal-layout">

    <!-- CONTEÚDO PRINCIPAL -->
    <div class="journal-main box">
        <h2 class="journal-title">Old Studio Developers’ Journal</h2>

        <p class="journal-date">Development Log</p>

        <p>
            This page is dedicated to sharing development updates, design notes,
            and behind-the-scenes information about Old Studio projects.
        </p>

        {% if posts|length == 0 %}
            <p style="margin-top: 15px;">
                <strong>No updates for now.</strong>
            </p>
        {% else %}
            {% for post in posts %}
                <hr style="margin: 15px 0;">

                <p style="font-size:13px; color:#6b6b6b;">
                    {{ post.category }} • {{ post.created_at[:10] }}
                </p>

                <p>
                    {{ post.content }}
                </p>
            {% endfor %}
        {% endif %}
    </div>

    <!-- BARRA LATERAL -->
    <aside class="journal-sidebar box">
        <h3>Journal Sections</h3>
        <ul>
            <li>Development Logs</li>
            <li>Design Notes</li>
            <li>Game Concepts</li>
            <li>Release Updates</li>
        </ul>

        <h3 style="margin-top: 15px;">Archives</h3>
        <ul>
            <li>2026</li>
            <li>2025</li>
        </ul>
    </aside>

</div>

<!-- FORMULÁRIO (APENAS PARA DEVS) -->
<div class="box" style="margin-top:20px;">
    <h3>Post an Update</h3>

    {% if error %}
        <p style="color:red;">{{ error }}</p>
    {% endif %}

    <form method="post">
        <input type="password" name="password" placeholder="Password" required><br><br>

        <select name="category" required>
            <option value="Development Logs">Development Logs</option>
            <option value="Design Notes">Design Notes</option>
            <option value="Game Concepts">Game Concepts</option>
            <option value="Release Updates">Release Updates</option>
        </select><br><br>

        <textarea name="content" rows="4" required></textarea><br><br>

        <button type="submit">Post Update</button>
    </form>
</div>

{% endblock %}